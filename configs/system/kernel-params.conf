# xanadOS Gaming Kernel Parameters - 2025 Security Update
# These parameters are optimized for gaming performance while maintaining security

# CPU Performance & Security Balance (2025 Best Practice)
mitigations=auto,nosmt
spec_store_bypass_disable=auto
spectre_v2=auto
tsx=auto
processor.max_cstate=1
intel_idle.max_cstate=0
intel_pstate=disable
amd_pstate=passive

# Memory Management (Updated for 2025)
vm.swappiness=1
vm.vfs_cache_pressure=50
vm.dirty_ratio=15
vm.dirty_background_ratio=5
vm.min_free_kbytes=65536
vm.max_map_count=2147483642

# Gaming Optimizations
preempt=voluntary
rcu_nocbs=0-7
isolcpus=2,3
nohz_full=2,3
transparent_hugepage=madvise

# I/O Performance
elevator=mq-deadline

# zram Configuration (2025 Update)
zram.num_devices=1
zram.mem_limit=4G
zram.compression_algorithm=zstd

# Security Hardening (2025)
lockdown=integrity
kernel.dmesg_restrict=1
kernel.kptr_restrict=2
kernel.yama.ptrace_scope=2
net.core.bpf_jit_harden=2

# AppArmor Support
apparmor=1
security=apparmor

# Audit Support
audit=1

# Graphics
nvidia-drm.modeset=1
amdgpu.ppfeaturemask=0xffffffff

# Audio
snd_hda_intel.power_save=0

# Network
net.core.default_qdisc=fq
net.ipv4.tcp_congestion_control=bbr

# Security (balanced for gaming)
mitigations=auto
pti=auto
spectre_v2=auto
spec_store_bypass_disable=auto
